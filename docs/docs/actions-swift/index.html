<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.72">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Hypi Platform Documentation Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Hypi Platform Documentation Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-120274358-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-120274358-1",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Hypi Platform Documentation" href="/opensearch.xml"><title data-react-helmet="true">Swift actions | Hypi Platform Documentation</title><meta data-react-helmet="true" property="og:url" content="https://docs.hypi.app/docs/actions-swift"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Swift actions | Hypi Platform Documentation"><meta data-react-helmet="true" name="description" content="The process of creating Swift actions is similar to that of other actions."><meta data-react-helmet="true" property="og:description" content="The process of creating Swift actions is similar to that of other actions."><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.hypi.app/docs/actions-swift"><link data-react-helmet="true" rel="alternate" href="https://docs.hypi.app/docs/actions-swift" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.hypi.app/docs/actions-swift" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://OR6SSGNSLB-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.1294fc69.css">
<link rel="preload" href="/assets/js/styles.cfc678ae.js" as="script">
<link rel="preload" href="/assets/js/runtime~main.dd9688e4.js" as="script">
<link rel="preload" href="/assets/js/main.2c0b3c60.js" as="script">
<link rel="preload" href="/assets/js/1.45a190d7.js" as="script">
<link rel="preload" href="/assets/js/2.3c596897.js" as="script">
<link rel="preload" href="/assets/js/3.775ddf67.js" as="script">
<link rel="preload" href="/assets/js/1be78505.4b8a9743.js" as="script">
<link rel="preload" href="/assets/js/109.319b3236.js" as="script">
<link rel="preload" href="/assets/js/935f2afb.9e953460.js" as="script">
<link rel="preload" href="/assets/js/17896441.90d97684.js" as="script">
<link rel="preload" href="/assets/js/7a18a0f1.2baf7cd9.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Hypi Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.png" alt="Hypi Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Hypi</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a href="https://hypi.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Main website</a></div><div class="navbar__items navbar__items--right"><a href="https://hypi.app" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Register or Login</a><a href="https://github.com/hypi-universe/docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_GrZ2"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Hypi Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.png" alt="Hypi Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Hypi</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a href="https://hypi.io" target="_blank" rel="noopener noreferrer" class="menu__link">Main website</a></li><li class="menu__list-item"><a href="https://hypi.app" target="_blank" rel="noopener noreferrer" class="menu__link">Register or Login</a></li><li class="menu__list-item"><a href="https://github.com/hypi-universe/docs" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper main-docs-wrapper"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Welcome</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/overview">Hypi Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/get-started">Get Started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/faq">Hypi FAQs</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">API &amp; References</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api-references">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/apisetup">API Set-Up</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/authentication">Authentication</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/scalars">Scalars</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/magic-hypi-object">Magic Hypi Object</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/crud">CRUD APIs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/create-data">Create Data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/update-data">Update Data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/read-data">Read Data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/delete-data">Delete Data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/arcql">ArcQL filtering</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/references">References</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/authorisation">Authorisation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/realtime-db">Realtime database</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/apigateway">API gateway</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/aggregation">Aggregation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/maths-api">Maths APIs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/hypi-directives">Hypi Directives</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user-defined-function">User Defined Functions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workflow">Workflow</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/triggers">Triggers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/webhooks">Webhooks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/fileupload">File Upload</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/rest-apis">RESTful APIs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/oauth2login">OAuth2 Login</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/password-reminder">Password Reminder</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Serverless</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/serverless">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openwhisk-cli">OpenWhisk CLI</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/create-serverless">Create Serverless Function</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/use-serverless">Use Serverless Function</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openwhisk-actions">OpenWhisk Actions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openwhisk-parameters">Parameters</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openwhisk-annotations">Annotations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openwhisk-triggers">Triggers and Rules</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openwhisk-sequences">Action Sequences</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openwhisk-conductors">Conductors</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openwhisk-packages">Packages</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openwhisk-webactions">Web Actions</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Serverless: Language Support</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/actions-nodejs">JavaScript actions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/actions-python">Python actions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/actions-java">Java actions</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/actions-swift">Swift actions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/actions-go">Go actions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/actions-php">PHP actions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/actions-ruby">Ruby actions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/actions-rust">Rust actions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/actions-dotnet">.NET actions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/actions-docker">Docker actions</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">GraphQL</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/graphql">GraphQL Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/gql-introduction">GraphQL Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/gql-schema-types">GraphQL Schema and Types</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/gql-queries">GraphQL Queries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/gql-mutations">GraphQL Mutations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/gql-interfaces">GraphQL Interfaces</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/hypi-angular">Hypi + Angular</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Tutorial</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorials">Tutorials Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/gql-crud-tutorial">Hypi GraphQL CRUD Tutorial</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/time-series-aggregations">Timeseries Aggregations with Date Granularity</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">User Interface Guide</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-create-app">Create App</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-create-release">Create Release</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-create-table-vb">Create a table using Visual Builder</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-create-table-gse">Create a table using GraphQL Schema Editor</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-add-environment-var">Add Environment Variables</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-add-dependencies">Add Dependencies</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-deprecate-publish">Publish / Deprecate Release</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-create-instance">Create Instance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-view-instance">View Instance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-instance-api-config">API configurations of an Instance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-gql-config">GraphQL configuration of an Instance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-gql-playground">GraphQL Playground</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/glossary">Glossary</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/get-involved">Get Involved!</a></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Swift actions</h1></header><div class="markdown"><p>The process of creating Swift actions is similar to that of <a href="/docs/openwhisk-actions#the-basics">other actions</a>.
The following sections guide you through creating and invoking a single Swift action,
and demonstrate how to bundle multiple Swift files and third party dependencies.</p><p><strong>Tip:</strong> You can use the <a href="http://online.swiftplayground.run" target="_blank" rel="noopener noreferrer">Online Swift Playground</a> to test your Swift code without having to install Xcode on your machine.</p><p><strong>Note:</strong> Swift actions run in a Linux environment. Swift on Linux is still in development,
and OpenWhisk usually uses the latest available release, which is not necessarily stable.
In addition, the version of Swift that is used with OpenWhisk might be inconsistent with versions
of Swift from stable releases of Xcode on MacOS.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="swift-4"></a>Swift 4<a class="hash-link" href="#swift-4" title="Direct link to heading">#</a></h4><p>An action is simply a top-level Swift function. For example, create a file called
<code>hello.swift</code> with the following content:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly swift"><div tabindex="0" class="prism-code language-swift codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">func main(args: [String:Any]) -&gt; [String:Any] {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if let name = args[&quot;name&quot;] as? String {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return [ &quot;greeting&quot; : &quot;Hello \(name)!&quot; ]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    } else {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return [ &quot;greeting&quot; : &quot;Hello stranger!&quot; ]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>In this example the Swift action consumes a dictionary and produces a dictionary.</p><p>You can create an OpenWhisk action called <code>helloSwift</code> from this function as
follows:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">wsk action create helloSwift hello.swift</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="swift-4-codable-type"></a>Swift 4 Codable type<a class="hash-link" href="#swift-4-codable-type" title="Direct link to heading">#</a></h4><p>New in Swift 4 in addition of the above main function signature there are two more signatures out of the box taking advantage of the <a href="https://developer.apple.com/documentation/swift/codable" target="_blank" rel="noopener noreferrer">Codable</a> type. You can learn more about data types encodable and decodable for compatibility with external representations such as JSON <a href="https://developer.apple.com/documentation/foundation/archives_and_serialization/encoding_and_decoding_custom_types" target="_blank" rel="noopener noreferrer">here</a>.</p><p>The following takes as input parameter a Codable Input with field <code>name</code>, and returns a Codable output with a field <code>greetings</code></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly swift"><div tabindex="0" class="prism-code language-swift codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">struct Input: Codable {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    let name: String?</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">struct Output: Codable {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    let greeting: String</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">func main(param: Input, completion: (Output?, Error?) -&gt; Void) -&gt; Void {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    let result = Output(greeting: &quot;Hello \(param.name ?? &quot;stranger&quot;)!&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    print(&quot;Log greeting:\(result.greeting)&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    completion(result, nil)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>In this example the Swift action consumes a Codable and produces a Codable type.
If you don&#x27;t need to handle any input you can use the function signature that doesn&#x27;t take any input, only Codable output.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly swift"><div tabindex="0" class="prism-code language-swift codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">struct Output: Codable {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    let greeting: String</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">func main(completion: (Output?, Error?) -&gt; Void) -&gt; Void {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    let result = Output(greeting: &quot;Hello OpenWhisk!&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    completion(result, nil)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>You can create a OpenWhisk action called <code>helloSwift</code> from this function as
follows:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">wsk action create helloSwift hello.swift</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>See the Swift <a href="#reference">reference</a> for more information about the Swift runtime.</p><p>Action invocation is the same for Swift actions as it is for JavaScript actions:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">wsk action invoke --result helloSwift --param name World</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><div tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;greeting&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Hello World!&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Find out more about parameters in the <a href="/docs/openwhisk-parameters">Working with parameters</a> section.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="packaging-an-action-as-a-swift-executable"></a>Packaging an action as a Swift executable<a class="hash-link" href="#packaging-an-action-as-a-swift-executable" title="Direct link to heading">#</a></h3><p>When you create an OpenWhisk Swift action with a Swift source file, it has to be compiled into a binary before the action is run. Once done, subsequent calls to the action are much faster until the container holding your action is purged. This delay is known as the cold-start delay.</p><p>To avoid the cold-start delay, you can compile your Swift file into a binary and then upload to OpenWhisk in a zip file. As you need the OpenWhisk scaffolding, the easiest way to create the binary is to build it within the same environment as it will be run in.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="compiling-swift-42-packaged-actions"></a>Compiling Swift 4.2 packaged actions<a class="hash-link" href="#compiling-swift-42-packaged-actions" title="Direct link to heading">#</a></h3><p>The docker runtime includes a compiler to help users compile and package Swift 4.2 actions.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="compiling-a-single-source-file-for-swift-42"></a>Compiling a single source file for Swift 4.2<a class="hash-link" href="#compiling-a-single-source-file-for-swift-42" title="Direct link to heading">#</a></h4><p>To compile a single source file that doesn&#x27;t depend on external libraries you can use the following command:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">docker run -i openwhisk/action-swift-v4.2 -compile main </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">hello.swift </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain">hello.zip</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The docker container reads from stdin the content of the file, and writes to stdout a zip archive with the compiled swift executable.
Use the flag <code>-compile</code> with the name of the main method.
The zip archive is ready for deployment and invocation using the kind <code>swift:4.2</code></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">wsk action update helloSwiftly hello.zip --kind swift:4.2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">wsk action invoke helloSwiftly -r -p name World</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="compiling-dependencies-and-multi-file-projects-for-swift-42"></a>Compiling dependencies and multi-file projects for Swift 4.2<a class="hash-link" href="#compiling-dependencies-and-multi-file-projects-for-swift-42" title="Direct link to heading">#</a></h4><p>To compile multiple files and include external dependencies create the following directory structure.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ Package.swift</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â””â”€â”€ Sources</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    â””â”€â”€ main.swift</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The directory <code>Sources/</code> should contain a file named <code>main.swift</code>.
The <code>Package.swift</code> should start with a comment specifying version <code>4.2</code> for the Swift tooling:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly swift"><div tabindex="0" class="prism-code language-swift codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// swift-tools-version:4.2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">import PackageDescription</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">let package = Package(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    name: &quot;Action&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    products: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    .executable(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        name: &quot;Action&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        targets:  [&quot;Action&quot;]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    )</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    dependencies: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    .package(url: &quot;https://github.com/IBM-Swift/SwiftyRequest.git&quot;, .upToNextMajor(from: &quot;1.0.0&quot;))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    targets: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    .target(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        name: &quot;Action&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        dependencies: [&quot;SwiftyRequest&quot;],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        path: &quot;.&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    )</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Create a zip archive with the content of the directory:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">zip</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">/action-src.zip -r *</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Pass the zip archive to the docker container over stdin, and the stdout will be a new zip archive with the compiled executable.
The docker container reads from stdin the content of the zip archive, and writes to stdout a  new zip archive with the compiled swift executable.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">docker run -i openwhisk/action-swift-v4.2 -compile main &lt;action-src.zip &gt;../action-bin.zip</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>In a Linux based system you can combined the <code>zip</code> and <code>docker run</code> steps in a single command:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">zip - -r * | docker run -i openwhisk/action-swift-v4.2 -compile main &gt;../action-bin.zip</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The zip <code>action-bin.zip</code> archive is ready for deployment and invocation using the kind <code>swift:4.2</code></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">wsk action update helloSwiftly action-bin.zip --kind swift:4.2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">wsk action invoke helloSwiftly -r</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="error-handling-in-swift-4"></a>Error Handling in Swift 4<a class="hash-link" href="#error-handling-in-swift-4" title="Direct link to heading">#</a></h3><p>With the new Codable completion handler, you can pass an Error to indicate a failure in your Action.
<a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/ErrorHandling.html" target="_blank" rel="noopener noreferrer">Error handling in Swift</a> resembles exception handling in other languages, with the use of the <code>try, catch</code> and <code>throw</code> keywords.
The following example shows a an example on handling an error</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly swift"><div tabindex="0" class="prism-code language-swift codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">enum VendingMachineError: Error {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    case invalidSelection</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    case insufficientFunds(coinsNeeded: Int)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    case outOfStock</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">func main(param: Input, completion: (Output?, Error?) -&gt; Void) -&gt; Void {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // Return real error</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    do {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        throw VendingMachineError.insufficientFunds(coinsNeeded: 5)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    } catch {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        completion(nil, error)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="reference"></a>Reference<a class="hash-link" href="#reference" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="swift-4-1"></a>Swift 4<a class="hash-link" href="#swift-4-1" title="Direct link to heading">#</a></h4><p>Swift 4 actions are executed using Swift 4.2 using <code>--kind swift:4.2</code> respectively.
The default <code>--kind swift:default</code> is Swift 4.2.</p><p>Swift 4.x action runtimes don&#x27;t embed any packages, follow the instructions for <a href="/docs/openwhisk-actions#packaging-an-action-as-a-swift-executable">packaged swift actions</a> to include dependencies using a Package.swift.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Large portions of this page is copied from the <a href="https://github.com/apache/openwhisk/tree/master/docs" target="_blank" rel="noopener noreferrer">Apache OpenWhisk documentation</a> on April 23rd 2021 - where there have been customisations to match Hypi&#x27;s deployment this has been noted. Apache OpenWhisk and the Apache name are the property of the Apache Foundation and licensed under the <a href="https://github.com/apache/openwhisk/blob/master/LICENSE.txt" target="_blank" rel="noopener noreferrer">Apache V2 license</a> .</p></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/hypi-universe/docs/edit/master/content/actions-swift.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/actions-java"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Java actions</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/actions-go"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Go actions Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#packaging-an-action-as-a-swift-executable" class="table-of-contents__link">Packaging an action as a Swift executable</a></li><li><a href="#compiling-swift-42-packaged-actions" class="table-of-contents__link">Compiling Swift 4.2 packaged actions</a></li><li><a href="#error-handling-in-swift-4" class="table-of-contents__link">Error Handling in Swift 4</a></li><li><a href="#reference" class="table-of-contents__link">Reference</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Home</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/get-started/">Get Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/authentication">Authentication</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/arcql">Filtering your data</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/crud">GraphQL CRUD APIs</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/rest-apis">REST APIs</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://hypi.dev" target="_blank" rel="noopener noreferrer" class="footer__link-item">Support Forum</a></li><li class="footer__item"><a href="https://hypi.app" target="_blank" rel="noopener noreferrer" class="footer__link-item">Platform</a></li><li class="footer__item"><a href="https://hypi.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/hypi-universe/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Hypi.</div></div></div></footer></div>
<script src="/assets/js/styles.cfc678ae.js"></script>
<script src="/assets/js/runtime~main.dd9688e4.js"></script>
<script src="/assets/js/main.2c0b3c60.js"></script>
<script src="/assets/js/1.45a190d7.js"></script>
<script src="/assets/js/2.3c596897.js"></script>
<script src="/assets/js/3.775ddf67.js"></script>
<script src="/assets/js/1be78505.4b8a9743.js"></script>
<script src="/assets/js/109.319b3236.js"></script>
<script src="/assets/js/935f2afb.9e953460.js"></script>
<script src="/assets/js/17896441.90d97684.js"></script>
<script src="/assets/js/7a18a0f1.2baf7cd9.js"></script>
</body>
</html>