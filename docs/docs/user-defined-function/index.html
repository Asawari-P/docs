<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.3">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Hypi Platform Documentation Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Hypi Platform Documentation Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-120274358-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-120274358-1",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Hypi Platform Documentation" href="/opensearch.xml"><title data-react-helmet="true">User Defined Functions | Hypi Platform Documentation</title><meta data-react-helmet="true" property="og:url" content="https://docs.hypi.app/docs/user-defined-function"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="User Defined Functions | Hypi Platform Documentation"><meta data-react-helmet="true" name="description" content="User Defined functions provide a lightweight way to implement custom behaviour outside of what Hypi offers. The functions are executed on the same server where the query gets processed."><meta data-react-helmet="true" property="og:description" content="User Defined functions provide a lightweight way to implement custom behaviour outside of what Hypi offers. The functions are executed on the same server where the query gets processed."><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.hypi.app/docs/user-defined-function"><link data-react-helmet="true" rel="alternate" href="https://docs.hypi.app/docs/user-defined-function" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.hypi.app/docs/user-defined-function" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://OR6SSGNSLB-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.631dcdd9.css">
<link rel="preload" href="/assets/js/runtime~main.cb9bd47e.js" as="script">
<link rel="preload" href="/assets/js/main.d2098034.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Hypi Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.png" alt="Hypi Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Hypi</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a href="https://hypi.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Main website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><a href="https://hypi.app" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Register or Login<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://github.com/hypi-universe/docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Hypi Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.png" alt="Hypi Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Hypi</b></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a href="https://hypi.io" target="_blank" rel="noopener noreferrer" class="menu__link"><span>Main website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="menu__list-item"><a href="https://hypi.app" target="_blank" rel="noopener noreferrer" class="menu__link"><span>Register or Login<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="menu__list-item"><a href="https://github.com/hypi-universe/docs" target="_blank" rel="noopener noreferrer" class="menu__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu menu--responsive thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA" aria-label="Sidebar navigation"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Welcome</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/overview">Hypi Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/get-started">Get Started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/faq">Hypi FAQs</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">API &amp; References</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api-references">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/apisetup">API Set-Up</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/authentication">Authentication</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/scalars">Scalars</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/magic-hypi-object">Magic Hypi Object</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/crud">CRUD APIs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/create-data">Create Data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/update-data">Update Data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/read-data">Read Data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/delete-data">Delete Data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/arcql">ArcQL filtering</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/references">References</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/authorisation">Authorisation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/realtime-db">Realtime database</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/apigateway">API gateway</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/aggregation">Aggregation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/maths-api">Maths APIs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/hypi-directives">Hypi Directives</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/user-defined-function">User Defined Functions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workflow">Workflow</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/triggers">Triggers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/webhooks">Webhooks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fileupload">File Upload</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rest-apis">RESTful APIs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/oauth2login">OAuth2 Login</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/password-reminder">Password Reminder</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Serverless</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/serverless">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openwhisk-cli">OpenWhisk CLI</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/create-serverless">Create Serverless Function</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/use-serverless">Use Serverless Function</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openwhisk-actions">OpenWhisk Actions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openwhisk-parameters">Parameters</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openwhisk-annotations">Annotations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openwhisk-triggers">Triggers and Rules</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openwhisk-sequences">Action Sequences</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openwhisk-conductors">Conductors</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openwhisk-packages">Packages</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openwhisk-webactions">Web Actions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openwhisk-alarms">Alarm Package</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openwhisk-slack">Slack Package</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openwhisk-websocket">WebSocket Package</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openwhisk-github">GitHub Package</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Serverless: Language Support</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/actions-nodejs">JavaScript actions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/actions-python">Python actions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/actions-java">Java actions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/actions-swift">Swift actions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/actions-go">Go actions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/actions-php">PHP actions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/actions-ruby">Ruby actions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/actions-rust">Rust actions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/actions-dotnet">.NET actions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/actions-docker">Docker actions</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Hypi CLI</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/hypi-cli-intro">Hypi CLI Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/hypi-cli-flutter">Flutter</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/hypi-cli-react">ReactJS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/hypi-cli-angular">Angular</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/hypi-cli-vuejs-composition">VueJS Composition</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/hypi-cli-vuejs-smartqueries">VueJS Smart Queries</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">GraphQL</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/graphql">GraphQL Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/gql-introduction">GraphQL Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/gql-schema-types">GraphQL Schema and Types</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/gql-queries">GraphQL Queries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/gql-mutations">GraphQL Mutations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/gql-interfaces">GraphQL Interfaces</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">System Apps</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/core">Core</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Example Apps</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/react-todo-app">ReactJS</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/hypi-angular">Hypi + Angular</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tutorial</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorials">Tutorials Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/gql-crud-tutorial">Hypi GraphQL CRUD Tutorial</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/time-series-aggregations">Timeseries Aggregations with Date Granularity</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">User Interface Guide</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-create-app">Create App</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-create-release">Create Release</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-create-table-vb">Create a table using Visual Builder</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-create-table-gse">Create a table using GraphQL Schema Editor</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-add-environment-var">Add Environment Variables</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-add-dependencies">Add Dependencies</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-deprecate-publish">Publish / Deprecate Release</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-create-instance">Create Instance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-view-instance">View Instance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-instance-api-config">API configurations of an Instance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-gql-config">GraphQL configuration of an Instance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-gql-playground">GraphQL Playground</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-data-migration">Data Migration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-real-time-streams">Real-time Input Streams</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/glossary">Glossary</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/get-involved">Get Involved!</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="markdown"><header><h1 class="h1Heading_27L5">User Defined Functions</h1></header><p>User Defined functions provide a lightweight way to implement custom behaviour outside of what Hypi offers. The functions are executed on the same server where the query gets processed.</p><p>Currently, you may use two programming language for the user defined functions.</p><ul><li><p>Groovy: The entire Groovy syntax is available on the hypi platform. Groovy is a general programming language. Adding custom behaviour using Groovy becomes quick, easy and performant.</p></li><li><p>Velocity: The velocity template language is in place to output text. This text may execute dynamic behaviour. E.g., customizing the body of an email, substituting receiverâ€™s name from a variable etc.</p></li></ul><blockquote><p>Letâ€™s check how to implement user defined functions. </p></blockquote><p>We will start with a simple schema as follows: </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">type Query {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    inlineGroovyFunction(a: String, b: Int, c: Boolean)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        :Json @tan(type:Groovy, inline: &quot;&quot;&quot;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        def map = new java.util.LinkedHashMap()</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        map.put(&quot;a&quot;, a)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        map.put(&quot;b&quot;, b)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        map.put(&quot;c&quot;, c)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        return map</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;&quot;&quot;)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    inlineVelocityFunction(a: String, b: Int, c: Boolean):</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    String @tan(type:Velocity, inline: &quot;$a,$b,$c&quot;)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The schema has two user defined functions. <code>inlineGroovyFunction</code> and <code>inlineVelocityFunction</code> You may define the user defined functions either inline or through a script. <code>@tan</code> directive is used to add the functions. </p><p><code>inlineGroovyFunction</code> function puts value of variables a,b and c in a LinkedHashMap and the map is returned in the form of JSON data. <code>inlineVelocityFunction</code> uses velocity template to return the formatted string output of variables a,b, and c. You may execute the user defined function as any other GraphQL query.</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">GraphQL Query</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Response</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  inlineGroovyFunction(a:&quot;val1&quot;, b:23, c: true)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">OR</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  inlineVelocityFunction(a:&quot;val1&quot;, b:23, c: true)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;data&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;inlineGroovyFunction&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;a&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;val1&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;b&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">23</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;c&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">OR</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;data&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;inlineVelocityFunction&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;val1,23,true&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><p>You may pass the variable parameters to the function as well. Just like this:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">query inlineVelocityFunction($a: String, $b: Int, $c: Boolean){</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  inlineVelocityFunction(a: $a, b: $b, c: $c)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>As you can see in <code>inlineGroovyFunction</code>, Java classes are also available to use inline. You may also use a simple Groovy like version as follows.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">inlineGroovyFunction(a: String, b: Int, c: Boolean):Json @tan(type:Groovy, inline: &quot;&quot;&quot;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     return [</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     a: a,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     b: b,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     c: c</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     ]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> &quot;&quot;&quot;)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="user-defined-functions-using-apis"></a>User Defined Functions using APIs<a class="hash-link" href="#user-defined-functions-using-apis" title="Direct link to heading">#</a></h2><p>It is easy to call CRUD APIs, Math APIs, Authentication functions from User Defined Functions. You may parse JSON and XML data inside User Defined Function as well. </p><p>Let&#x27;s check how to implement these functions.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="upsert"></a>upsert<a class="hash-link" href="#upsert" title="Direct link to heading">#</a></h3><p>Look at the <code>groovyUpsert</code> user defined function below. It can be used to insert or update data in an object.  Its behaviour is the same as the <a href="/docs/create-data">upsert</a> function from <a href="/docs/crud">CRUD APIs</a>. <code>groovyUpsert</code> inserts data in the <code>Author</code> and <code>Book</code> objects. You may use appropriate name for <code>groovyUpsert</code> as per its behaviour.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">type </span><span class="token maybe-class-name">Mutation</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">groovyUpsert</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">a</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">String</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> b</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">Int</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> c</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">Int</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> d</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">String</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> e</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">String</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> f</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token maybe-class-name">Json</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  @</span><span class="token function" style="color:rgb(130, 170, 255)">tan</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">type</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token maybe-class-name">Groovy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> inline</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&quot;</span><span class="token plain">&quot;</span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">upsert</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token maybe-class-name">Author</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">           </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">             </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">             name</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> a</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">             age</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> b</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">             count</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> c</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">             booklist</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                 title</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> d</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                 publication</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                 available</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> f</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">             </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">           </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">  </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&quot;</span><span class="token plain">&quot;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Note there is a slight change of syntax for the upsert function. Since it is written in Groovy, we have used square brackets instead of curly brackets.</p><p>Here is the execution of the function.</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">GraphQL Query</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Response</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">mutation{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  groovyUpsert(a:&quot;Dan Brown&quot;, b: 56, c:3, d: &quot;Da Vinci Code&quot;, e: &quot;abc&quot;, f: true)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;data&quot;: {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;groovyUpsert&quot;: [</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;__typename&quot;: &quot;Hypi&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;id&quot;: &quot;01F9V5QJDFV5MJWSQ0KV13N5PN&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;impl&quot;: null,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;created&quot;: &quot;2021-07-05T11:09:24Z&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;updated&quot;: &quot;2021-07-05T11:09:24Z&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;trashed&quot;: null,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;createdBy&quot;: &quot;01F2GA50NFXHMYCBDNYFJK1V7R&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;instanceId&quot;: &quot;01F9V52Z4NW0CBTNS7QG7G3RAE&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;tags&quot;: null</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><p>To <a href="/docs/update-data">update an existing object</a>, we will do a slight modification in the schema. Let&#x27;s add a parameter to pass hypi.id to update an existing object.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">type Mutation {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  groovyUpsert(a: String, b: Int, c: Int, d: String, e:String, f: Boolean, g: ID):Json</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  @tan(type:Groovy, inline: &quot;&quot;&quot;return upsert([</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          Author: [</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">           [ </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">             hypi:[</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                 id: g</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">             ],            </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">             name: a,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">             age: b,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">             count: c,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">             booklist:[</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                [</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                 title: d,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                 publication: e,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                 available: f</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                ]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">             ]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">           ]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          ]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    )  </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;&quot;&quot;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ) </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Here is the execution of function.</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">GraphQL Query</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Response</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">mutation{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  groovyUpsert( d: &quot;Inferno&quot;, e: &quot;xyz&quot;, f: true, g: &quot;01F9V5QJDFV5MJWSQ0KV13N5PN&quot;)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;data&quot;: {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;groovyUpsert&quot;: [</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;__typename&quot;: &quot;Hypi&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;id&quot;: &quot;01F9V5QJDFV5MJWSQ0KV13N5PN&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;impl&quot;: null,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;created&quot;: null,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;updated&quot;: &quot;2021-07-05T11:18:26Z&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;trashed&quot;: null,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;createdBy&quot;: null,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;instanceId&quot;: &quot;01F9V52Z4NW0CBTNS7QG7G3RAE&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;tags&quot;: null</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="find"></a>find<a class="hash-link" href="#find" title="Direct link to heading">#</a></h3><p>Below user defined function (<code>groovyFind</code>) can be used to retrieve all the data from an object.  Its behaviour is the same as the <a href="/docs/read-data#find">find</a> function from CRUD APIs.  Use appropriate name for <code>groovyFind</code> as per the requirements.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">type QueryÂ {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">groovyFind(type: String!,  arcql: String!,  first: Int,  after: String,  last: Int,  before: String,  includeTrashed: Boolean,  page: Int):Json @tan(type:Groovy,  inline:  &quot;&quot;&quot;return find(type, arcql, first, after, last, before, includeTrashed, page)&quot;&quot;&quot;)  </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Let&#x27;s retrieve the data inserted in the Author object.</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">GraphQL Query</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Response</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  groovyFind(type:&quot;Author&quot;, arcql:&quot;hypi.id = &#x27;01F9V5QJDFV5MJWSQ0KV13N5PN&#x27;&quot;)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;data&quot;: {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;groovyFind&quot;: {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;edges&quot;: [</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;cursor&quot;: &quot;01F9V5QJDFV5MJWSQ0KV13N5PN&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;node&quot;: {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;__typename&quot;: &quot;Author&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;hypi&quot;: {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;__typename&quot;: &quot;Hypi&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;id&quot;: &quot;01F9V5QJDFV5MJWSQ0KV13N5PN&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;impl&quot;: null,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;created&quot;: &quot;2021-07-05T11:09:24Z&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;updated&quot;: &quot;2021-07-05T11:18:26Z&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;trashed&quot;: null,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;createdBy&quot;: &quot;01F2GA50NFXHMYCBDNYFJK1V7R&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;instanceId&quot;: &quot;01F9V52Z4NW0CBTNS7QG7G3RAE&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;tags&quot;: null</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            },</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;name&quot;: &quot;Dan Brown&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;age&quot;: 56,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;count&quot;: 3,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;booklist&quot;: [</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;__typename&quot;: &quot;Book&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;hypi&quot;: {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                  &quot;__typename&quot;: &quot;Hypi&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                  &quot;id&quot;: &quot;01F9V5QJDJCNF8EENSAQNXC217&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                  &quot;impl&quot;: null,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                  &quot;created&quot;: &quot;2021-07-05T11:09:24Z&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                  &quot;updated&quot;: &quot;2021-07-05T11:09:24Z&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                  &quot;trashed&quot;: null,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                  &quot;createdBy&quot;: &quot;01F2GA50NFXHMYCBDNYFJK1V7R&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                  &quot;instanceId&quot;: &quot;01F9V52Z4NW0CBTNS7QG7G3RAE&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                  &quot;tags&quot;: null</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                },</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;title&quot;: &quot;Da Vinci Code&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;publication&quot;: &quot;abc&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;available&quot;: true</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              },</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;__typename&quot;: &quot;Book&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;hypi&quot;: {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                  &quot;__typename&quot;: &quot;Hypi&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                  &quot;id&quot;: &quot;01F9V68331S0PVGH1Y8QK39NPC&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                  &quot;impl&quot;: null,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                  &quot;created&quot;: &quot;2021-07-05T11:18:26Z&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                  &quot;updated&quot;: &quot;2021-07-05T11:18:26Z&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                  &quot;trashed&quot;: null,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                  &quot;createdBy&quot;: &quot;01F2GA50NFXHMYCBDNYFJK1V7R&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                  &quot;instanceId&quot;: &quot;01F9V52Z4NW0CBTNS7QG7G3RAE&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                  &quot;tags&quot;: null</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                },</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;title&quot;: &quot;Inferno&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;publication&quot;: &quot;xyz&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;available&quot;: true</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            ]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      ]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="get"></a>get<a class="hash-link" href="#get" title="Direct link to heading">#</a></h3><p>Below <code>groovyGet</code> user defined function can be used to get data from a single object.  Its behaviour is the same as the <a href="/docs/read-data#get">get</a> function from CRUD APIs.  You may choose another name for <code>groovyGe</code></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">type QueryÂ {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">groovyGet( type: HypiMutationType! id: String! ): HypiRootAggregate</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  @tan(type:Groovy, inline: &quot;&quot;&quot;return get(type, id)&quot;&quot;&quot;)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">GraphQL Query</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Response</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  groovyGet(type:Author, id:&quot;01F9V5QJDFV5MJWSQ0KV13N5PN&quot;) {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ... on Author {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      hypi{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        id</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        created</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        updated</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      name</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      booklist{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        title</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        available</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;data&quot;: {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;groovyGet&quot;: {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;hypi&quot;: {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;id&quot;: &quot;01F9V5QJDFV5MJWSQ0KV13N5PN&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;created&quot;: &quot;2021-07-05T11:09:24Z&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;updated&quot;: &quot;2021-07-05T11:18:26Z&quot;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      },</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;name&quot;: &quot;Dan Brown&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;booklist&quot;: [</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;title&quot;: &quot;Da Vinci Code&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;available&quot;: true</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        },</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;title&quot;: &quot;Inferno&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;available&quot;: true</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      ]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="trash"></a>trash<a class="hash-link" href="#trash" title="Direct link to heading">#</a></h3><p>Below <code>groovyTrash</code> user defined function can be used to put unwanted data in a trash.  Its behaviour is the same as the <a href="/docs/delete-data#trash">trash</a> function from CRUD APIs. You may choose another name for <code>groovyTrash</code></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">type MutationÂ {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">groovyTrash( type: HypiMutationType! arcql: String! ): Int!</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  @tan(type:Groovy, inline: &quot;&quot;&quot;return trash(type, arcql)&quot;&quot;&quot;)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">GraphQL Query</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Response</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">mutation {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  groovyTrash(type:Author,arcql: &quot;hypi.id=&#x27;01F9V5QJDFV5MJWSQ0KV13N5PN&#x27;&quot;)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;data&quot;: {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;groovyTrash&quot;: 1</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="untrash"></a>untrash<a class="hash-link" href="#untrash" title="Direct link to heading">#</a></h3><p>Below user defined function (<code>groovyUntrash</code>)  can be used to put unwanted data in a trash.  Its behaviour is the same as the <a href="/docs/delete-data#untrash">untrash</a> function from CRUD APIs. You may use different name for <code>groovyUntrash</code></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">type MutationÂ {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">groovyUntrash( type: HypiMutationType! arcql: String! ): Int!</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  @tan(type:Groovy, inline: &quot;&quot;&quot;return untrash(type, arcql)&quot;&quot;&quot;)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">GraphQL Query</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Response</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">mutation {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  groovyUntrash(type:Author,arcql: &quot;hypi.id=&#x27;01F9V5QJDFV5MJWSQ0KV13N5PN&#x27;&quot;)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;data&quot;: {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;groovyUntrash&quot;: 1</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="delete"></a>delete<a class="hash-link" href="#delete" title="Direct link to heading">#</a></h3><p>Look at the <code>groovyDelete</code> user defined function below. It can be used to delete the unwanted data permanently  Its behaviour is the same as the <a href="/docs/delete-data#delete">delete</a> function from CRUD APIs. You may use another name for <code>groovyDelete</code></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">type Mutation {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  groovyDelete(type: HypiMutationType! arcql: String! clearArrayReferences: Boolean = false ): Int!</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  @tan(type:Groovy, inline: &quot;&quot;&quot;return delete(type, arcql, clearArrayReferences)&quot;&quot;&quot;)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">GraphQL Query</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Response</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">mutation {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  groovyDelete(type: Book, arcql: &quot;hypi.id = &#x27;01F9V68331S0PVGH1Y8QK39NPC&#x27;&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  clearArrayReferences:true)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;data&quot;: {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;groovyDelete&quot;: 1</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="deletescalars"></a>deleteScalars<a class="hash-link" href="#deletescalars" title="Direct link to heading">#</a></h3><p>Data in a square array can be permanently deleted as shown in the <code>groovyDeleteScalars</code> user defined function below. Behaviour is the same as that of <a href="/docs/delete-data#deletescalars">deleteScalars</a>.  You may choose appropriate name for <code>groovyDeleteScalars</code></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">type Mutation { </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> groovyDeleteScalars( type: HypiMutationType! field: String! values: [String!]! arcql: String! ): Int!</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  @tan(type:Groovy, inline: &quot;&quot;&quot;return deleteScalars(type, field, values, arcql)&quot;&quot;&quot;)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">GraphQL Query</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Response</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">mutation{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  groovyDeleteScalars(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    type:Question,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    field:&quot;answer&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    values:[&quot;a&quot;,&quot;b&quot;],</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    arcql:&quot;hypi.id =&#x27;01F9VASEMCNFMR7F8N13R6GJXS&#x27;&quot;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  )</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;data&quot;: {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;groovyDeleteScalars&quot;: 2</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="link"></a>link<a class="hash-link" href="#link" title="Direct link to heading">#</a></h3><p>You can create a reference, using the <code>link</code> function. Two objects can be conneted using one-to-one or one-to-many references.  <code>groovyLink</code> function below works similar to the <a href="/docs/references">link</a> function. You may replace <code>groovyLink</code>  with another function name.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">type Mutation {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">groovyLink( from: HypiMutationType! to: HypiMutationType! via: String! whereFromID: String! andToID: String! fromInstanceId: String toInstanceId: String ): Boolean!</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  @tan(type:Groovy, inline: &quot;&quot;&quot;return link(from, to, via, whereFromID, andToID, fromInstanceId, toInstanceId)&quot;&quot;&quot;)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">GraphQL Query</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Response</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">mutation {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    groovyLink(from:Author,to:Book,    via:&quot;booklist&quot;,whereFromID:&quot;01F9V5QJDFV5MJWSQ0KV13N5PN&quot;,andToID:&quot;01F9VB3EJMQWF27JW6QKPBEGM2&quot;)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;data&quot;: {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;groovyLink&quot;: true</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="unlink"></a>unlink<a class="hash-link" href="#unlink" title="Direct link to heading">#</a></h3><p>You can remove a reference, using the unlink function.  <code>groovyUnlink</code> user defined function below works similar to the <a href="/docs/references">unlink</a> function.  You may opt to have another name for <code>groovyUnlink</code></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">type Mutation {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">groovyUnlink(from: HypiMutationType! to: HypiMutationType! via: String! whereFromID: String! andToID: String! fromInstanceId: String toInstanceId: String ): Boolean!</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  @tan(type:Groovy, inline: &quot;&quot;&quot;return unlink(from, to, via, whereFromID, andToID, fromInstanceId, toInstanceId)&quot;&quot;&quot;)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">GraphQL Query</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Response</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">mutation {  groovyUnlink(from:Author,to:Book,via:&quot;booklist&quot;,whereFromID:&quot;01F9V5QJDFV5MJWSQ0KV13N5PN&quot;,andToID:&quot;01F9VB3EJMQWF27JW6QKPBEGM2&quot;)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;data&quot;: {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;groovyUnlink&quot;: true</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="createaccount"></a>createAccount<a class="hash-link" href="#createaccount" title="Direct link to heading">#</a></h3><p>You may create a new user account using createAccount. The <code>groovyCreateAccount</code> user defined function works similar to the <a href="/docs/authentication#createaccount">createAccount</a> function. Here is the schema.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">type Mutation {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">groovyCreateAccount( value: AccountInput! ): Hypi</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  @tan(type:Groovy, inline: &quot;&quot;&quot;return createAccount(value)&quot;&quot;&quot;)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">GraphQL Query</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Response</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">mutation {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> groovyCreateAccount(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     value: {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">         username: &quot;test-hypi1@hypi.io&quot;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">         password: { value: &quot;test-hypi1@hypi.io&quot; }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">         emails: [{ value: &quot;test-hypi1@hypi.io&quot; }]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     ) {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">         id</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">         created</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">         createdBy</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;data&quot;: {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;groovyCreateAccount&quot;: {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;id&quot;: &quot;01F9V9JVG571TCQ11KSM7Y5PR5&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;created&quot;: &quot;2021-07-05T12:16:44Z&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;createdBy&quot;: &quot;01F9V9JVG571TCQ11KSM7Y5PR5&quot;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="login--loginbyemail"></a>login / loginByEmail<a class="hash-link" href="#login--loginbyemail" title="Direct link to heading">#</a></h3><p>Users may login with <code>login</code> or  <code>loginByEmail</code> function. <code>groovyLogin</code> /<code>groovyLoginByEmail</code>  user defined functions below work similar to <a href="/docs/authentication#login">login</a> / <a href="/docs/authentication#loginbyemail">loginByEmail</a> functions. You may choose another names for these functions.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">type Query {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">groovyLoginByEmail(email: String! password: String! ): AccessToken</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  @tan(type:Groovy, inline: &quot;&quot;&quot;return loginByEmail(email, password)&quot;&quot;&quot;)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> groovyLogin(username: String! password: String! ): AccessToken</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  @tan(type:Groovy, inline: &quot;&quot;&quot;return login(username, password)&quot;&quot;&quot;)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">GraphQL Query</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Response</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  groovyLogin(username:&quot;test-hypi@hypi.io&quot;,password:&quot;test-hypi@hypi.io&quot;){</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        sessionToken</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        sessionExpires</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        errorCode</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        errorMsg</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">OR</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  groovyLoginByEmail(email:&quot;test-hypi@hypi.io&quot;,password:&quot;test-hypi@hypi.io&quot;){</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        sessionToken</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        sessionExpires</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        errorCode</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        errorMsg</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;data&quot;: {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;groovyLogin&quot;: {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;sessionToken&quot;: &quot;Auth-Token&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;sessionExpires&quot;: 1628078182,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;errorCode&quot;: null,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;errorMsg&quot;: null</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="maths-apis"></a>Maths APIs<a class="hash-link" href="#maths-apis" title="Direct link to heading">#</a></h3><p>Maths APIs can be used to perform Mathematical operations. Behaviour of <code>groovyMath</code> user defined function is similar to <a href="/docs/maths-api">Maths APIs</a>. </p><p>Here is the schema. Please note the use of square brackets in the syntax. <code>price</code> is the float field on which Mathematical operations are carried out. You may have another name for <code>groovyMath</code></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">type Mutation {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">groovyMath(a: ID, b: Float, c: Float, d: Float, e:Float):Json</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  @tan(type:Groovy, inline: &quot;&quot;&quot;return math([</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          Book: [</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            [             </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                price: [</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                 hypi: [</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                  id: a</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                 ],</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                 div: b,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                 times: c,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                 minus: d,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                 plus: e</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                ]             </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">             ] </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          ]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       ]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    )  </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;&quot;&quot;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  )</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">GraphQL Query</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Response</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">mutation{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  groovyMath(a:&quot;01F9VCE833595FYZR9X6MSKPMH&quot;,b:10,c:2,d:2,e:8)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;data&quot;: {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;groovyMath&quot;: [</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;__typename&quot;: &quot;Hypi&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;id&quot;: &quot;01F9VCE833595FYZR9X6MSKPMH&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;impl&quot;: null,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;created&quot;: null,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;updated&quot;: &quot;2021-07-05T13:08:58Z&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;trashed&quot;: null,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;createdBy&quot;: null,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;instanceId&quot;: &quot;01F9V52Z4NW0CBTNS7QG7G3RAE&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;tags&quot;: null</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="parsejson"></a>parseJSON<a class="hash-link" href="#parsejson" title="Direct link to heading">#</a></h3><p>You may parse a JSON value inside a user defined function using <code>parseJSON</code> function. <code>groovyParseJSON</code> function below does the same.  </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">groovyParseJSON(value: String): Json</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  @tan(type:Groovy, inline: &quot;&quot;&quot;return parseJSON(value)&quot;&quot;&quot;)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">GraphQL Query</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Response</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  groovyParseJSON(value:&quot;{\&quot;share\&quot;:{\&quot;gpname\&quot;: \&quot;scalars\&quot;,\&quot;url\&quot;: \&quot;scalars@hypi.in\&quot;}}&quot;)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;data&quot;: {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;groovyParseJSON&quot;: {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;share&quot;: {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;gpname&quot;: &quot;scalars&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;url&quot;: &quot;scalars@hypi.in&quot;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="parsexml"></a>parseXML<a class="hash-link" href="#parsexml" title="Direct link to heading">#</a></h3><p>You may parse an XML value inside a user defined function using <code>parseXML</code> function. <code>groovyParseXML</code> function below does the same.  </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">groovyParseXML(value: String): Json</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  @tan(type:Groovy, inline: &quot;&quot;&quot;return parseXML(value)&quot;&quot;&quot;)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">GraphQL Query</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Response</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  groovyParseXML(value:&quot;&lt;note&gt;&lt;to&gt;abc&lt;/to&gt;&lt;from&gt;xyz&lt;/from&gt;&lt;heading&gt;Reminder&lt;/heading&gt;&lt;body&gt;Low code&lt;/body&gt;&lt;/note&gt;&quot;)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;data&quot;: {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;groovyParseXML&quot;: {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;to&quot;: &quot;abc&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;from&quot;: &quot;xyz&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;heading&quot;: &quot;Reminder&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;body&quot;: &quot;Low code&quot;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="function-gql"></a>Function â€˜gqlâ€™<a class="hash-link" href="#function-gql" title="Direct link to heading">#</a></h3><p>The function &#x27;gql&#x27; is available to execute inside the user defined function. Using this function you may perform mutation or query operations inside the usergraphql defined function. The result depends upon the type of operation. If you perform an <code>upsert</code> mutation, it will return id, createdBy etc. (Just like the normal <code>upsert</code> in Hypi) If you perform a <code>find</code> query, it will return a list.  <code>groovyUpsert</code> can be defined in the schema under Mutation type as follows.</p><p>Letâ€™s check a few examples of how to use this function. Add the following schema in GraphQL.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">type Mutation {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  SetBookInfo(a: String, b: Float, c: Int):Json @tan(type:Groovy, inline: &quot;&quot;&quot;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    return [ gql(\&quot;&quot;&quot;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    mutation {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        upsert(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            values: { </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                Book: [</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    { </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        title: &quot;$a&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        price: $b,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        authorid: $c</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                ] </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ) {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            id</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }\&quot;&quot;&quot;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    )</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;&quot;&quot;)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">type Query {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  GetAuthorInfo(a: String):Json @tan(type:Groovy, inline: &quot;&quot;&quot;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    return [ gql(\&quot;&quot;&quot;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    query {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">           get(type: Author, id: &quot;$a&quot;){</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            ... on Author {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            hypi{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                id               </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            name</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            booklist{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                title               </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                price</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                authorid </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }\&quot;&quot;&quot;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    )</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;&quot;&quot;)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}                                                         </span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><code>SetBookInfo</code> is a user defined function to set parameter values inside the table <code>Book</code>. Upon successful creation of the object, the <code>hypi.id</code> is returned.</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">GraphQL Query</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Response</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">mutation {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  SetBookInfo(a:&quot;Ikigai&quot;, b:6.99, c: 7)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;data&quot;: {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;SetBookInfo&quot;: [</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;data&quot;: {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;upsert&quot;: [</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;id&quot;: &quot;01F1F23WERW6V4JQYDRW4QQRBQ&quot;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          ]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><p>Let&#x27;s retrieve <code>Author</code> table data using <code>GetAthorInfo</code>. Pass the Author id as <code>Author1</code> .It returns the author infomation with id &#x27;Author1&#x27;</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">GraphQL Query</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Response</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">query {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  GetAuthorInfo(a:&quot;Author1&quot;)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;data&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;GetAuthorInfo&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;data&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token property">&quot;get&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token property">&quot;hypi&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              </span><span class="token property">&quot;id&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Author1&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token property">&quot;name&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Dan Brown&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token property">&quot;booklist&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token property">&quot;title&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Da Vinci Code&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token property">&quot;price&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">12.99</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token property">&quot;authorid&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><p>The<code>gql</code>function accepts two parameters.</p><ul><li><code>query</code>: String - the GraphQL query to execute</li><li><code>values</code>: Map - a map containing the set of variables used in <code>query</code></li></ul><p>In the above examples, we have just used GraphQL query string. Let&#x27;s modify the <code>SetBookInfo</code> function with Map values.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">type Mutation {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  SetBookInfo(a: String, b: Float, c: Int):Json @tan(type:Groovy, inline: &quot;&quot;&quot;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    return gql(&#x27;&#x27;&#x27;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    mutation CreateBook($p: String, $q: Float, $r: Int){</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        upsert(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            values: { </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                Book: [</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    { </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        title: $p,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        price: $q,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        authorid: $r</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                ] </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ) {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            id</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }&#x27;&#x27;&#x27;, [&#x27;p&#x27;:a , &#x27;q&#x27;: b, &#x27;r&#x27;: c])</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;&quot;&quot;)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Notice few changes here:</p><ul><li>Replaced the <code>\&quot;&quot;&quot;</code> with just <code>&#x27;&#x27;&#x27;</code> . Using three <code>&#x27;</code> in Groovy, we have the same effect as <code>&quot;&quot;&quot;</code>. without string interpolation. It means that <code>$a</code> is not evaluated as a Groovy variable and remains as a part of the string.</li><li>Added GraphQL variables <code>CreateBook($p: String, $q: Float, $r: Int)</code></li><li>Added variable values <code>[&#x27;p&#x27;:a, &#x27;q&#x27;: b, &#x27;r&#x27;: c]</code> in the map. Now, the variables <code>$p</code> , <code>$q</code> and <code>$r</code> are GraphQL variables not Groovy variables.</li></ul><p>With these changes, the result is the same as the previous example!</p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/hypi-universe/docs/edit/master/content/userdefinedfunctions.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/hypi-directives"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Hypi Directives</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/workflow"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Workflow Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#user-defined-functions-using-apis" class="table-of-contents__link">User Defined Functions using APIs</a><ul><li><a href="#upsert" class="table-of-contents__link">upsert</a></li><li><a href="#find" class="table-of-contents__link">find</a></li><li><a href="#get" class="table-of-contents__link">get</a></li><li><a href="#trash" class="table-of-contents__link">trash</a></li><li><a href="#untrash" class="table-of-contents__link">untrash</a></li><li><a href="#delete" class="table-of-contents__link">delete</a></li><li><a href="#deletescalars" class="table-of-contents__link">deleteScalars</a></li><li><a href="#link" class="table-of-contents__link">link</a></li><li><a href="#unlink" class="table-of-contents__link">unlink</a></li><li><a href="#createaccount" class="table-of-contents__link">createAccount</a></li><li><a href="#login--loginbyemail" class="table-of-contents__link">login / loginByEmail</a></li><li><a href="#maths-apis" class="table-of-contents__link">Maths APIs</a></li><li><a href="#parsejson" class="table-of-contents__link">parseJSON</a></li><li><a href="#parsexml" class="table-of-contents__link">parseXML</a></li><li><a href="#function-gql" class="table-of-contents__link">Function â€˜gqlâ€™</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Home</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/get-started/">Get Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/authentication">Authentication</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/arcql">Filtering your data</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/crud">GraphQL CRUD APIs</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/rest-apis">REST APIs</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://hypi.dev" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Support Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://hypi.app" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Platform<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://hypi.io" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/hypi-universe/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Hypi.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.cb9bd47e.js"></script>
<script src="/assets/js/main.d2098034.js"></script>
</body>
</html>