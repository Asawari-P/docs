<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.72">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Hypi Platform Documentation Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Hypi Platform Documentation Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-120274358-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-120274358-1",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Hypi Platform Documentation" href="/opensearch.xml"><title data-react-helmet="true">Triggers and Rules | Hypi Platform Documentation</title><meta data-react-helmet="true" property="og:url" content="https://docs.hypi.app/docs/openwhisk-triggers"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Triggers and Rules | Hypi Platform Documentation"><meta data-react-helmet="true" name="description" content="OpenWhisk triggers and rules bring event-driven capabilities to the platform. Events from external and internal event sources are channeled through a trigger, and rules allow your actions to react to these events."><meta data-react-helmet="true" property="og:description" content="OpenWhisk triggers and rules bring event-driven capabilities to the platform. Events from external and internal event sources are channeled through a trigger, and rules allow your actions to react to these events."><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.hypi.app/docs/openwhisk-triggers"><link data-react-helmet="true" rel="alternate" href="https://docs.hypi.app/docs/openwhisk-triggers" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.hypi.app/docs/openwhisk-triggers" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://OR6SSGNSLB-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.1294fc69.css">
<link rel="preload" href="/assets/js/styles.b99e39bf.js" as="script">
<link rel="preload" href="/assets/js/runtime~main.d255bbfd.js" as="script">
<link rel="preload" href="/assets/js/main.cc335bba.js" as="script">
<link rel="preload" href="/assets/js/1.c73b1ccf.js" as="script">
<link rel="preload" href="/assets/js/2.992e0d55.js" as="script">
<link rel="preload" href="/assets/js/3.1878952a.js" as="script">
<link rel="preload" href="/assets/js/1be78505.94c98c53.js" as="script">
<link rel="preload" href="/assets/js/116.0bd03479.js" as="script">
<link rel="preload" href="/assets/js/935f2afb.77129238.js" as="script">
<link rel="preload" href="/assets/js/17896441.0c8d70da.js" as="script">
<link rel="preload" href="/assets/js/3a2253b4.6dc63e9f.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Hypi Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.png" alt="Hypi Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Hypi</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a href="https://hypi.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Main website</a></div><div class="navbar__items navbar__items--right"><a href="https://hypi.app" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Register or Login</a><a href="https://github.com/hypi-universe/docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_GrZ2"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Hypi Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.png" alt="Hypi Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Hypi</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a href="https://hypi.io" target="_blank" rel="noopener noreferrer" class="menu__link">Main website</a></li><li class="menu__list-item"><a href="https://hypi.app" target="_blank" rel="noopener noreferrer" class="menu__link">Register or Login</a></li><li class="menu__list-item"><a href="https://github.com/hypi-universe/docs" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper main-docs-wrapper"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Welcome</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/overview">Hypi Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/get-started">Get Started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/faq">Hypi FAQs</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">API &amp; References</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api-references">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/apisetup">API Set-Up</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/authentication">Authentication</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/scalars">Scalars</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/magic-hypi-object">Magic Hypi Object</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/crud">CRUD APIs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/create-data">Create Data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/update-data">Update Data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/read-data">Read Data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/delete-data">Delete Data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/arcql">ArcQL filtering</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/references">References</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/authorisation">Authorisation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/realtime-db">Realtime database</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/apigateway">API gateway</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/aggregation">Aggregation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/maths-api">Maths APIs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/hypi-directives">Hypi Directives</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user-defined-function">User Defined Functions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workflow">Workflow</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/triggers">Triggers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/webhooks">Webhooks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/fileupload">File Upload</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/rest-apis">RESTful APIs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/oauth2login">OAuth2 Login</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/password-reminder">Password Reminder</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Serverless</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/serverless">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/openwhisk-cli">OpenWhisk CLI</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/create-serverless">Create Serverless Function</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/use-serverless">Use Serverless Function</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/openwhisk-actions">OpenWhisk Actions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/openwhisk-parameters">Parameters</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/openwhisk-annotations">Annotations</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/openwhisk-triggers">Triggers and Rules</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/openwhisk-sequences">Action Sequences</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/openwhisk-conductors">Conductors</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/openwhisk-packages">Packages</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/openwhisk-webactions">Web Actions</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Serverless: Language Support</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/actions-nodejs">JavaScript actions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/actions-python">Python actions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/actions-java">Java actions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/actions-swift">Swift actions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/actions-go">Go actions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/actions-php">PHP actions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/actions-ruby">Ruby actions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/actions-rust">Rust actions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/actions-dotnet">.NET actions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/actions-docker">Docker actions</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Hypi CLI</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/hypi-cli-intro">Hypi CLI Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/hypi-cli-flutter">Flutter</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/hypi-cli-react">ReactJS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/hypi-cli-angular">Angular</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">GraphQL</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/graphql">GraphQL Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/gql-introduction">GraphQL Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/gql-schema-types">GraphQL Schema and Types</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/gql-queries">GraphQL Queries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/gql-mutations">GraphQL Mutations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/gql-interfaces">GraphQL Interfaces</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">System Apps</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/core">Core</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/hypi-angular">Hypi + Angular</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Tutorial</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorials">Tutorials Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/gql-crud-tutorial">Hypi GraphQL CRUD Tutorial</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/time-series-aggregations">Timeseries Aggregations with Date Granularity</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">User Interface Guide</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-create-app">Create App</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-create-release">Create Release</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-create-table-vb">Create a table using Visual Builder</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-create-table-gse">Create a table using GraphQL Schema Editor</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-add-environment-var">Add Environment Variables</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-add-dependencies">Add Dependencies</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-deprecate-publish">Publish / Deprecate Release</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-create-instance">Create Instance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-view-instance">View Instance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-instance-api-config">API configurations of an Instance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-gql-config">GraphQL configuration of an Instance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-gql-playground">GraphQL Playground</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-data-migration">Data Migration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ui-real-time-streams">Real-time Input Streams</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/glossary">Glossary</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/get-involved">Get Involved!</a></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Triggers and Rules</h1></header><div class="markdown"><p>OpenWhisk triggers and rules bring event-driven capabilities to the platform. Events from external and internal event sources are channeled through a trigger, and rules allow your actions to react to these events.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="creating-triggers"></a>Creating triggers<a class="hash-link" href="#creating-triggers" title="Direct link to heading">#</a></h3><p>Triggers are a named channel for a class of events. The following are examples of triggers:</p><ul><li>A trigger of location update events.</li><li>A trigger of document uploads to a website.</li><li>A trigger of incoming emails.</li></ul><p>Triggers can be <em>fired</em> (activated) by using a dictionary of key-value pairs. Sometimes this dictionary is referred to as the <em>event</em>. As with actions, each firing of a trigger results in an activation ID.</p><p>Triggers can be explicitly fired by a user or fired on behalf of a user by an external event source.
A <em>feed</em> is a convenient way to configure an external event source to fire trigger events that can be consumed by OpenWhisk. Examples of feeds include the following:</p><ul><li>Cloudant data change feed that fires a trigger event each time a document in a database is added or modified.</li><li>A Git feed that fires a trigger event for every commit to a Git repository.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="using-rules"></a>Using rules<a class="hash-link" href="#using-rules" title="Direct link to heading">#</a></h3><p>A rule associates one trigger with one action, with every firing of the trigger causing the corresponding action to be invoked with the trigger event as input.</p><p>With the appropriate set of rules, it&#x27;s possible for a single trigger event to invoke multiple actions, or for an action to be invoked as a response to events from multiple triggers.</p><p>For example, consider a system with the following actions:</p><ul><li><code>classifyImage</code> action that detects the objects in an image and classifies them.</li><li><code>thumbnailImage</code> action that creates a thumbnail version of an image.</li></ul><p>Also, suppose that there are two event sources that are firing the following triggers:</p><ul><li><code>newTweet</code> trigger that is fired when a new tweet is posted.</li><li><code>imageUpload</code> trigger that is fired when an image is uploaded to a website.</li></ul><p>You can set up rules so that a single trigger event invokes multiple actions, and have multiple triggers invoke the same action:</p><ul><li><code>newTweet -&gt; classifyImage</code> rule.</li><li><code>imageUpload -&gt; classifyImage</code> rule.</li><li><code>imageUpload -&gt; thumbnailImage</code> rule.</li></ul><p>The three rules establish the following behavior: images in both tweets and uploaded images are classified, uploaded images are classified, and a thumbnail version is generated.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="creating-and-firing-triggers"></a>Creating and firing triggers<a class="hash-link" href="#creating-and-firing-triggers" title="Direct link to heading">#</a></h3><p>Triggers can be fired when certain events occur, or can be fired manually.</p><p>As an example, create a trigger to send user location updates, and manually fire the trigger.</p><ol><li>Enter the following command to create the trigger:</li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">wsk trigger create locationUpdate</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">ok: created trigger locationUpdate</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ol start="2"><li>Check that you created the trigger by listing the set of triggers.</li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">wsk trigger list</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">triggers</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/someNamespace/locationUpdate                            private</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>So far you&#x27;ve created a named &quot;channel&quot; to which events can be fired.</p><ol start="3"><li>Next, fire a trigger event by specifying the trigger name and parameters:</li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">wsk trigger fire locationUpdate --param name Donald --param place &quot;Washington, D.C.&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">ok: triggered locationUpdate with id fa495d1223a2408b999c3e0ca73b2677</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>A trigger that is fired without an accompanying rule to match against has no visible effect.
Triggers cannot be created inside a package; they must be created directly under a namespace.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="associating-triggers-and-actions-by-using-rules"></a>Associating triggers and actions by using rules<a class="hash-link" href="#associating-triggers-and-actions-by-using-rules" title="Direct link to heading">#</a></h3><p>Rules are used to associate a trigger with an action. Each time a trigger event is fired, the action is invoked with the event parameters.</p><p>As an example, create a rule that calls the hello action whenever a location update is posted.</p><ol><li>Create a &#x27;hello.js&#x27; file with the action code we will use:</li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">function main(params) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> return {payload:  &#x27;Hello, &#x27; + params.name + &#x27; from &#x27; + params.place};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ol start="2"><li>Make sure that the trigger and action exist.</li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">wsk trigger update locationUpdate</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">wsk action update hello hello.js</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ol start="3"><li>Create the rule. Note that the rule will be enabled upon creation, meaning that it will be immediately available to respond to activations of your trigger. The three parameters are the name of the rule, the trigger, and the action.</li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">wsk rule create myRule locationUpdate hello</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>At any time, you can choose to disable a rule.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">wsk rule disable myRule</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ol start="4"><li>Fire the locationUpdate trigger. Each time that you fire an event, the hello action is called with the event parameters.</li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">wsk trigger fire locationUpdate --param name Donald --param place &quot;Washington, D.C.&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">ok: triggered locationUpdate with id 878998285cad448b8998285cad948b30</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ol start="5"><li>Verify that the action was invoked by checking the most recent activation.</li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">wsk activation list --limit 1 hello</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><div tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Datetime            Activation ID                    Kind     Start Duration   Status  Entity</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">2019-02-18 11:51:41 0efe54d8fb96486bbe54d8fb96d86bbe nodejs:6 cold  54ms       success guest/hello:0.0.1</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">wsk activation result 0efe54d8fb96486bbe54d8fb96d86bbe</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> &quot;payload&quot;: &quot;Hello, Donald from Washington, D.C.&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>You see that the hello action received the event payload and returned the expected string.</p><p>You can create multiple rules that associate the same trigger with different actions.
Triggers and rules cannot belong to a package. The rule may be associated with an action
that belongs to a package however, for example:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">wsk rule create recordLocation locationUpdate /whisk.system/utils/echo</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>You can also use rules with sequences. For example, one can create an action
sequence <code>recordLocationAndHello</code> that is activated by the rule <code>anotherRule</code>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">wsk action create recordLocationAndHello --sequence /whisk.system/utils/echo,hello</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">wsk rule create anotherRule locationUpdate recordLocationAndHello</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Large portions of this page is copied from the <a href="https://github.com/apache/openwhisk/tree/master/docs" target="_blank" rel="noopener noreferrer">Apache OpenWhisk documentation</a> on April 23rd 2021 - where there have been customisations to match Hypi&#x27;s deployment this has been noted. Apache OpenWhisk and the Apache name are the property of the Apache Foundation and licensed under the <a href="https://github.com/apache/openwhisk/blob/master/LICENSE.txt" target="_blank" rel="noopener noreferrer">Apache V2 license</a> .</p></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/hypi-universe/docs/edit/master/content/openwhisk-triggers.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/openwhisk-annotations"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Annotations</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/openwhisk-sequences"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Action Sequences Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#creating-triggers" class="table-of-contents__link">Creating triggers</a></li><li><a href="#using-rules" class="table-of-contents__link">Using rules</a></li><li><a href="#creating-and-firing-triggers" class="table-of-contents__link">Creating and firing triggers</a></li><li><a href="#associating-triggers-and-actions-by-using-rules" class="table-of-contents__link">Associating triggers and actions by using rules</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Home</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/get-started/">Get Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/authentication">Authentication</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/arcql">Filtering your data</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/crud">GraphQL CRUD APIs</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/rest-apis">REST APIs</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://hypi.dev" target="_blank" rel="noopener noreferrer" class="footer__link-item">Support Forum</a></li><li class="footer__item"><a href="https://hypi.app" target="_blank" rel="noopener noreferrer" class="footer__link-item">Platform</a></li><li class="footer__item"><a href="https://hypi.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/hypi-universe/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Hypi.</div></div></div></footer></div>
<script src="/assets/js/styles.b99e39bf.js"></script>
<script src="/assets/js/runtime~main.d255bbfd.js"></script>
<script src="/assets/js/main.cc335bba.js"></script>
<script src="/assets/js/1.c73b1ccf.js"></script>
<script src="/assets/js/2.992e0d55.js"></script>
<script src="/assets/js/3.1878952a.js"></script>
<script src="/assets/js/1be78505.94c98c53.js"></script>
<script src="/assets/js/116.0bd03479.js"></script>
<script src="/assets/js/935f2afb.77129238.js"></script>
<script src="/assets/js/17896441.0c8d70da.js"></script>
<script src="/assets/js/3a2253b4.6dc63e9f.js"></script>
</body>
</html>