(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{105:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return l})),t.d(n,"metadata",(function(){return i})),t.d(n,"toc",(function(){return p})),t.d(n,"default",(function(){return s}));var a=t(3),o=t(8),r=(t(0),t(155)),l={id:"hypi-angular",title:"Hypi + Angular",sidebar_label:"Hypi + Angular",slug:"/hypi-angular"},i={unversionedId:"hypi-angular",id:"hypi-angular",isDocsHomePage:!1,title:"Hypi + Angular",description:"Hypi is an ultra-flexible community-driven app development platform. You can use Hypi with any front-end framework of choice like Angular, React, Vue js, native frameworks etc. Hypi is designed from the ground up to make it easy to build scalable data-driven applications, web services and components that fetch data with GraphQL and REST easily. To get started and for demonstration purposes, we are going to integrate Hypi with Angular. You can incorporate Hypi with any other framework.",source:"@site/content/hypi-angular.md",slug:"/hypi-angular",permalink:"/docs/hypi-angular",editUrl:"https://github.com/hypi-universe/docs/edit/master/content/hypi-angular.md",version:"current",sidebar_label:"Hypi + Angular",sidebar:"docs",previous:{title:"Password Reminder",permalink:"/docs/password-reminder"},next:{title:"Tutorials Overview",permalink:"/docs/tutorials"}},p=[{value:"Adding Hypi to your client",id:"adding-hypi-to-your-client",children:[]},{value:"Installing Angular CLI and Setting Up An Angular Project",id:"installing-angular-cli-and-setting-up-an-angular-project",children:[]},{value:"Installing Apollo Client For Angular",id:"installing-apollo-client-for-angular",children:[]},{value:"Request data",id:"request-data",children:[]},{value:"What&#39;s next",id:"whats-next",children:[]}],c={toc:p};function s(e){var n=e.components,t=Object(o.a)(e,["components"]);return Object(r.b)("wrapper",Object(a.a)({},c,t,{components:n,mdxType:"MDXLayout"}),Object(r.b)("p",null,"Hypi is an ultra-flexible community-driven app development platform. You can use Hypi with any front-end framework of choice like Angular, React, Vue js, native frameworks etc. Hypi is designed from the ground up to make it easy to build scalable data-driven applications, web services and components that fetch data with GraphQL and REST easily. To get started and for demonstration purposes, we are going to integrate Hypi with Angular. You can incorporate Hypi with any other framework."),Object(r.b)("p",null,"Here are some things you should consider:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("strong",{parentName:"li"},"Incrementally adaptable"),"\u2014 you can drop Hypi into an existing app and start using GraphQL for just part of your UI or web services."),Object(r.b)("li",{parentName:"ol"},Object(r.b)("strong",{parentName:"li"},"Universally compatible"),"\u2014 Hypi works with any setup, any front-end framework, and any web services."),Object(r.b)("li",{parentName:"ol"},Object(r.b)("strong",{parentName:"li"},"Easy to start with"),"\u2014 you can start shaping and fetching your data right away and learn about advanced features later."),Object(r.b)("li",{parentName:"ol"},Object(r.b)("strong",{parentName:"li"},"Inspectable and understandable"),"\u2014 GraphQL introspection system is often useful to get information about what queries a schema supports. You can run introspection on your API using other tools like ",Object(r.b)("a",{parentName:"li",href:"https://graphql-code-generator.com/"},"https://graphql-code-generator.com/")," to understand precisely what is happening in your app.")),Object(r.b)("p",null,"These docs will help you to go from getting started with Hypi to becoming an expert!"),Object(r.b)("h3",{id:"adding-hypi-to-your-client"},"Adding Hypi to your client"),Object(r.b)("p",null,"Things you'll need:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("strong",{parentName:"li"},"Instance API domain")," \u2014 copy or create a instance API domain in Hypi"),Object(r.b)("li",{parentName:"ol"},Object(r.b)("strong",{parentName:"li"},"Auth token")," \u2014 copy your auth token from the developer hub"),Object(r.b)("li",{parentName:"ol"},Object(r.b)("strong",{parentName:"li"},"Apollo Angular")," \u2014 add apollo angular")),Object(r.b)("h3",{id:"installing-angular-cli-and-setting-up-an-angular-project"},"Installing Angular CLI and Setting Up An Angular Project"),Object(r.b)("p",null,"Let\u2019s get started with setting up an Angular project. The easiest way to do so is to use Angular CLI. If Angular CLI is not available on your system yet you first need to follow the instructions on ",Object(r.b)("a",{parentName:"p",href:"https://cli.angular.io/"},"https://cli.angular.io/")," to install the Command Line Interface. Once it is installed successfully you can use the ng command to initiate a new project:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre"},"$ ng new hypi-angular\n")),Object(r.b)("p",null,"Change into the newly created project directory"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre"},"$ cd hypi-angular\n")),Object(r.b)("p",null,"and start up the live-reloading development web server by executing the following command:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre"},"$ ng serve\n")),Object(r.b)("h3",{id:"installing-apollo-client-for-angular"},"Installing Apollo Client For Angular"),Object(r.b)("p",null,"In order to use Apollo Client for Angular we need to add a few packages to our project. Execute the following command within the Angular project directory:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre"},"npm install apollo-angular @apollo/client graphql\n")),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"@apollo/client"),"\u2014 Apollo's core\n"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"apollo-angular"),"\u2014 Bridge between Angular and Apollo Client\n"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"graphql"),"\u2014 Most important package\n")),Object(r.b)("p",null,"The ",Object(r.b)("inlineCode",{parentName:"p"},"@apollo/client")," package requires ",Object(r.b)("inlineCode",{parentName:"p"},"AsyncIterable")," so make sure your tsconfig.base.json includes ",Object(r.b)("inlineCode",{parentName:"p"},"esnext.asynciterable"),":"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-java"},'{\n  "compilerOptions": {\n    // ...\n    "lib": [\n      "es2018",\n      "dom",\n      "esnext.asynciterable"\n    ]\n  }\n}\n')),Object(r.b)("p",null,"Great, now that you have all the dependencies you need, let's create you a ",Object(r.b)("inlineCode",{parentName:"p"},"graphql.module.ts")," file; in here you will setup Apollo and connect to Hypi. Remember to import the ",Object(r.b)("inlineCode",{parentName:"p"},"graphql.module.ts")," file into the ",Object(r.b)("inlineCode",{parentName:"p"},"app.module.ts")," file."),Object(r.b)("p",null,"In ",Object(r.b)("inlineCode",{parentName:"p"},"graphql.module.ts"),":"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-java"},"import { NgModule } from '@angular/core';\nimport { HttpClientModule } from '@angular/common/http';\nimport { APOLLO_OPTIONS } from 'apollo-angular';\nimport { HttpLink } from 'apollo-angular/http';\nimport { ApolloLink, InMemoryCache } from '@apollo/client/core';\nimport { setContext } from '@apollo/client/link/context';\nconst uri = 'https://api.hypi.app/graphql/';\nconst tokenFromDeveloperHub = 'myToken';\nexport function provideApollo(httpLink: HttpLink): any {\n  /* Get the authentication token from local storage if it exists or\n   * generate one by login a user into their account or\n   * the current one can be copied from the Developer Hub\"\n  */\n  const token = localStorage.getItem('myToken') ?    localStorage.getItem('myToken') : tokenFromDeveloperHub;\n  const auth = setContext((operation, context) => ({\n    headers: {\n      Authorization: `${token}`\n      'hypi-domain': 'hypi-angular.io'\n    },\n  }));\n  const link = ApolloLink.from([auth, httpLink.create({uri, withCredentials: true})]);\n  const cache = new InMemoryCache();\n  return {\n    link,\n    cache\n  };\n}\n@NgModule({\n  exports: [\n    HttpClientModule,\n  ],\n  providers: [{\n    provide: APOLLO_OPTIONS,\n    useFactory: provideApollo,\n    deps: [HttpLink]\n  }]\n})\nexport class GraphQLModule {\n}\n")),Object(r.b)("p",null,"Take a closer look what we did there:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"With ",Object(r.b)("inlineCode",{parentName:"li"},"apollo-angular/http")," and ",Object(r.b)("inlineCode",{parentName:"li"},"HttpLink")," service we connect our client to Hypi"),Object(r.b)("li",{parentName:"ol"},"We set our ",Object(r.b)("inlineCode",{parentName:"li"},"uri``const uri = 'https://api.hypi.app/graphql/';")),Object(r.b)("li",{parentName:"ol"},"With ",Object(r.b)("inlineCode",{parentName:"li"},"setContext")," we added our ",Object(r.b)("inlineCode",{parentName:"li"},"hypi-domain")," and ",Object(r.b)("inlineCode",{parentName:"li"},"Authorization")," token")),Object(r.b)("p",null,"In ",Object(r.b)("inlineCode",{parentName:"p"},"app.module.ts"),":"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-java"},"import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { GraphQLModule } from './graphql.module';\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    GraphQLModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n")),Object(r.b)("p",null,"How easy was that! Now your client and Hypi are connected. The server can use that header to authenticate the user and modify any behavior based on a user's role and permissions."),Object(r.b)("h3",{id:"request-data"},"Request data"),Object(r.b)("p",null,"Once all is hooked up, you're ready to start requesting data using Hypi! We will show you how easy it is to fetch data from your instance API, you can use the Apollo query method. It is as easy as this:"),Object(r.b)("p",null,"Generate a profile component using angular CLI"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre"},"$ ng g c profile\n")),Object(r.b)("p",null,"In",Object(r.b)("inlineCode",{parentName:"p"},"profile.component.ts"),":"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-java"},'import { Component, OnInit } from \'@angular/core\';\nimport { Apollo, gql } from \'apollo-angular\';\n@Component({\n  selector: \'app-profile\',\n  template: `\n    <div *ngIf="loading">\n      Loading...\n    </div>\n    <div *ngIf="error">\n      Error :(\n    </div>\n    <div *ngIf="profiles">\n      <div *ngFor="let profile of profiles">\n        <p>Name: <strong>{{ profile.node.username }}</strong></p>\n      </div>\n    </div>\n  `,\n  styleUrls: [\'./profile.component.scss\']\n})\nexport class ProfileComponent implements OnInit {\n  profiles: any[];\n  loading = true;\n  error: any;\n  constructor(private apollo: Apollo) {\n  }\n  ngOnInit() {\n    this.apollo\n    .watchQuery({\n      query: gql`\n        {\n          find(type: Account, arcql:"*"){\n            edges{\n              node{\n                ... on Account {\n                  username\n                  password{\n                    value\n                  }\n                  emails{\n                    value\n                  }\n                }\n              }\n              cursor\n            }\n            pageInfo{\n              hasPreviousPage\n              hasNextPage\n              startCursor\n              endCursor\n              pageLimit\n              previousOffsets\n              nextOffsets\n            }\n          }\n        }\n      `,\n    })\n    .valueChanges.subscribe((result: any) => {\n      this.profiles = result?.data?.find.edges;\n      this.loading = result.loading;\n      this.error = result.error;\n      console.log(result);\n    });\n  }\n}\n')),Object(r.b)("h3",{id:"whats-next"},"What's next"),Object(r.b)("p",null,"Great! well done for making this for! let's take a look back:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"Created our ",Object(r.b)("inlineCode",{parentName:"li"},"App")," , ",Object(r.b)("inlineCode",{parentName:"li"},"Release")," , ",Object(r.b)("inlineCode",{parentName:"li"},"Instance")," domain in Hypi"),Object(r.b)("li",{parentName:"ol"},"Installed ",Object(r.b)("inlineCode",{parentName:"li"},"angular CLI")," and set our project up"),Object(r.b)("li",{parentName:"ol"},"Installed ",Object(r.b)("inlineCode",{parentName:"li"},"Apollo client")," and connected to your Hypi app's instance domain"),Object(r.b)("li",{parentName:"ol"},"Made a request to your instance's domain")),Object(r.b)("p",null,"Setting up and connecting to Hypi is very easy. We are excited to see what you build next. Checkout the ",Object(r.b)("a",{parentName:"p",href:"/docs/crud"},"CRUD")," section of documentation, so you get familiar with the operations you can run against your APIs."))}s.isMDXComponent=!0},155:function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t.d(n,"b",(function(){return m}));var a=t(0),o=t.n(a);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function p(e,n){if(null==e)return{};var t,a,o=function(e,n){if(null==e)return{};var t,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var c=o.a.createContext({}),s=function(e){var n=o.a.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},u=function(e){var n=s(e.components);return o.a.createElement(c.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return o.a.createElement(o.a.Fragment,{},n)}},b=o.a.forwardRef((function(e,n){var t=e.components,a=e.mdxType,r=e.originalType,l=e.parentName,c=p(e,["components","mdxType","originalType","parentName"]),u=s(t),b=a,m=u["".concat(l,".").concat(b)]||u[b]||d[b]||r;return t?o.a.createElement(m,i(i({ref:n},c),{},{components:t})):o.a.createElement(m,i({ref:n},c))}));function m(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var r=t.length,l=new Array(r);l[0]=b;var i={};for(var p in n)hasOwnProperty.call(n,p)&&(i[p]=n[p]);i.originalType=e,i.mdxType="string"==typeof e?e:a,l[1]=i;for(var c=2;c<r;c++)l[c]=t[c];return o.a.createElement.apply(null,l)}return o.a.createElement.apply(null,t)}b.displayName="MDXCreateElement"}}]);